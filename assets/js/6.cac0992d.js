(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{138:function(t,e,r){"use strict";r(140),r(141),r(142);var a=r(143),n=r.n(a);e.a={data:function(){return{zeroAddress:"0x0000000000000000000000000000000000000000"}},computed:{dapp:{get:function(){return this.$store.getters.dapp}}},methods:{getParam:function(t){var e={};return window.location.href.replace(location.hash,"").replace(/[?&]+([^=&]+)=?([^&]*)?/gi,function(t,r,a){e[r]=void 0!==a?a:""}),t?e[t]?e[t]:null:e},promisify:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];return new Promise(function(e,a){t.apply(void 0,r.concat([function(t,r){t?a(t):e(r)}]))})},isMobile:function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(t){return!1}},generateQRCode:function(t){return n.a.toDataURL(t,{color:{dark:"#b733a7",light:"#0000"}})},makeToast:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.$bvToast.toast(e,{title:t,variant:r,solid:!0})},formatStructure:function(t){return 0===parseInt(t[0].valueOf())?null:{id:parseInt(t[0].valueOf()),address:t[1],fingerprint:this.formatFingerprint(t[2]),creationDate:1e3*t[3].valueOf(),stakedTokens:parseFloat(this.dapp.web3.fromWei(t[4])),usedTokens:parseFloat(this.dapp.web3.fromWei(t[5])),data:t[6],approved:t[7]}},formatFingerprint:function(t){var e=t.replace("0x","").match(new RegExp(".{1,6}","g"));return{borderColor:"#".concat(e[0]),backgroundColor:"#".concat(e[1]),mainColor:"#".concat(e[2])}}}}},212:function(t,e,r){"use strict";r.r(e);r(139),r(74);var a=r(22),n={name:"Dao",mixins:[r(138).a],data:function(){return{loading:!0,memberList:[],token:{name:"",symbol:"",decimals:18,link:"",logo:""},dao:{membersNumber:0,totalStakedTokens:0,totalUsedTokens:0}}},computed:{dapp:{get:function(){return this.$store.getters.dapp}}},mounted:function(){this.memberId=this.getParam("id"),this.initDapp()},methods:{initDapp:function(){try{this.$store.dispatch("initToken"),this.$store.dispatch("initDao"),this.ready()}catch(t){alert(t),this.$router.push({path:"/"})}},ready:function(){var t=Object(a.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getDaoData();case 2:return t.next=4,this.getTokenData();case 4:return this.loading=!1,t.next=7,this.getMember(1);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getDaoData:function(){var t=Object(a.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=parseInt,t.next=4,this.promisify(this.dapp.instances.dao.membersNumber);case 4:return t.t1=t.sent.valueOf(),this.dao.membersNumber=(0,t.t0)(t.t1),t.t2=parseFloat,t.t3=this.dapp.web3,t.next=10,this.promisify(this.dapp.instances.dao.totalStakedTokens);case 10:return t.t4=t.sent,t.t5=t.t3.fromWei.call(t.t3,t.t4),this.dao.totalStakedTokens=(0,t.t2)(t.t5),t.t6=parseFloat,t.t7=this.dapp.web3,t.next=17,this.promisify(this.dapp.instances.dao.totalUsedTokens);case 17:t.t8=t.sent,t.t9=t.t7.fromWei.call(t.t7,t.t8),this.dao.totalUsedTokens=(0,t.t6)(t.t9),t.next=27;break;case 22:t.prev=22,t.t10=t.catch(0),this.loading=!1,console.log(t.t10),alert("Some error occurred.");case 27:case"end":return t.stop()}},t,this,[[0,22]])}));return function(){return t.apply(this,arguments)}}(),getTokenData:function(){var t=Object(a.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.promisify(this.dapp.instances.token.name);case 3:return this.token.name=t.sent,t.next=6,this.promisify(this.dapp.instances.token.symbol);case 6:this.token.symbol=t.sent,this.token.link=this.dapp.network.current.etherscanLink+"/token/"+this.dapp.instances.token.address,this.token.logo=this.$withBase("/assets/images/logo/shaka_logo_white.png"),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),this.loading=!1,console.log(t.t0),alert("Some error occurred.");case 16:case"end":return t.stop()}},t,this,[[0,11]])}));return function(){return t.apply(this,arguments)}}(),getMember:function(){var t=Object(a.a)(regeneratorRuntime.mark(function t(e){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.promisify(this.dapp.instances.dao.getMemberById,e);case 2:r=t.sent,a=this.formatStructure(r),this.memberList.push(a),this.memberList.length<this.dao.membersNumber&&this.getMember(this.memberList.length+1);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},s=r(15),o=Object(s.a)(n,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",[r("b-row",{staticClass:"masthead m-4"},[r("b-col",{attrs:{lg:"8","offset-lg":"2"}},[r("h1",{staticClass:"display-5"},[r("b-img",{attrs:{src:t.$withBase("/assets/images/logo/friendsfingers.svg"),rounded:"circle",height:"64",alt:t.$site.title}}),t._v(" "),r("br"),t._v("\n                FriendsFingers DAO\n            ")],1),t._v(" "),t.loading?t._e():r("h4",{staticClass:"text-muted"},[r("b",[t._v(t._s(t.dao.membersNumber))]),t._v(" DAO Members"),r("br"),t._v(" "),r("b",[t._v(t._s(t.dao.totalStakedTokens)+" "+t._s(t.token.symbol))]),t._v(" Staked"),r("br"),t._v(" "),t.dao.totalUsedTokens>0?[r("b",[t._v(t._s(t.dao.totalUsedTokens)+" "+t._s(t.token.symbol))]),t._v(" Used\n                ")]:t._e()],2)])],1),t._v(" "),t.loading?[r("ui--loader",{attrs:{loading:!0}})]:r("b-row",[r("b-col",{attrs:{lg:"10","offset-lg":"1"}},[r("b-row",{staticClass:"mt-2"},t._l(t.memberList,function(e){return r("b-col",{key:e.id,staticClass:"p-2",attrs:{md:"3",sm:"4"}},[r("b-card",{attrs:{"no-body":""}},[r("b-card-body",[r("b-link",{attrs:{to:{path:"/member/",query:{ref:e.id}}}},[r("ui--member-image",{attrs:{member:e}})],1)],1),t._v(" "),r("b-card-footer",[t._v("\n                            #"+t._s(e.id)+"\n\n                            "),r("div",{staticClass:"float-right"},[e.approved?r("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"p-1",attrs:{title:"Approved",variant:"success",pill:""}},[r("font-awesome-icon",{attrs:{icon:"check-circle"}})],1):r("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"p-1",attrs:{title:"Not approved",variant:"danger",pill:""}},[r("font-awesome-icon",{attrs:{icon:"exclamation-circle"}})],1)],1)])],1)],1)}),1)],1)],1)],2)},[],!1,null,null,null);e.default=o.exports}}]);